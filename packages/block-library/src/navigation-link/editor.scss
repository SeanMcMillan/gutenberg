// Normalize Link and edit containers, to look mostly the same.
.wp-block-navigation-link__field .components-text-control__input.components-text-control__input,
.wp-block-navigation-link__container {
	border-radius: 0;
	// Make it the same height as the appender to prevent a jump. Maybe revisit this.
	line-height: $button-size;
	min-height: $button-size;
}

// Truncate long URLs in the toolbar
.block-editor-block-toolbar {
	&__overlay {
		position: absolute;
		top: 0;
		left: 0;
		right: -1px;
		bottom: 0;
		z-index: 100;
	}

	&__overlay-content {
		display: flex;
		height: 100%;
		background: #FFF;
		overflow: hidden;
	}

	.navigation-link-edit__toolbar-link-input-group {
		flex-grow: 1;
	}

	.navigation-link-edit__toolbar-link-input {
		height: 90%;
		border: 1px solid #ccc;
		flex-grow: 1;
		align-self: center;
		font-size: 13px;
	}

	.navigation-link-edit-link-button {
		border: 2px solid transparent;

		&,
		&.components-button.components-button.has-icon svg {
			margin-right: 0;
		}

		.navigation-link-edit-link-label,
		.navigation-link-edit-link-rich-text {
			display: inline-block;
			white-space: nowrap !important;
			transition: max-width 0.3s ease-in;
		}

		.navigation-link-edit-link-label {
			max-width: 230px;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.navigation-link-edit-link-rich-text {
			max-width: 600px;
		}
	}
}

/**
 * Adjust Navigation Item.
 */
.wp-block-navigation-link {
	.block-editor-block-list__layout {
		display: block;
	}

	&.is-editing,
	&.is-selected {
		min-width: 20px;
	}

	.block-editor-rich-text__editable.is-selected:not(.keep-placeholder-on-focus):not(:focus)[data-rich-text-placeholder]::after {
		display: inline-block;
	}

	.block-list-appender {
		margin: $grid-unit-10 * 2;
		margin-left: $grid-unit-10 * 1.25;
		margin-top: $grid-unit-10 * 1.25;
	}
}

.wp-block-navigation-link__nofollow-external-link {
	display: block;
}

// Separator
.wp-block-navigation-link__separator {
	margin: $grid-unit-10 0 $grid-unit-10;
	border-top: $border-width solid $light-gray-500;
}

// Popover styles
.components-popover.wp-block-navigation-link__dropdown-content {
	margin-top: -1px;
	margin-left: -4px;
}

.wp-block-navigation-link__dropdown-content .components-popover__content > div {
	padding: $grid-unit-10 0;
}

.wp-block-navigation .block-editor-block-list__block[data-type="core/navigation-link"] {
	& > .block-editor-block-list__insertion-point {
		display: none;
	}
}
